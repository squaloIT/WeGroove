{"version":3,"sources":["webpack://app/./src/js/registration.js","webpack://app/./src/js/utils/validation.js"],"names":["getValuesFromRegistrationFormAndValidate","formObject","returnObj","first_name","last_name","username","email","password","confirm_password","passwordRegex","testObj","document","querySelector","value","val","regex","Object","keys","forEach","key","RegExp","test","validateInput","length","errFieldKey","el","classList","add","alert","addEventListener","e","preventDefault"],"mappings":"mBAEA,SAASA,IACP,ICHgCC,EAC1BC,EDqEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAxDR,EAUQC,EA1BAC,GAmEAP,EAAaQ,SAASC,cAAc,eAAeC,MACnDT,EAAYO,SAASC,cAAc,cAAcC,MACjDR,EAAWM,SAASC,cAAc,aAAaC,MAC/CP,EAAQK,SAASC,cAAc,UAAUC,MACzCN,EAAWI,SAASC,cAAc,aAAaC,MAC/CL,EAAmBG,SAASC,cAAc,qBAAqBC,MC3ErCZ,ED0CzB,CACL,aAAc,CACZa,KAzBN,EA0DS,CACLX,aACAC,YACAC,WACAC,QACAC,WACAC,qBA/DFL,WAyBIY,MAlBmB,sBAoBrB,YAAa,CACXD,IAtBH,EALDV,UA4BIW,MArBkB,sBAuBpBV,SAAU,CACRS,IA1BH,EAJDT,SA+BIU,MAvBkB,8DAyBpBT,MAAO,CACLQ,IA9BH,EAHDR,OAmCEC,SAAU,CACRO,IAjCH,EAFDP,SAoCIQ,MA/BEN,EAAgB,0CAiCpBD,iBAAkB,CAChBM,IArCH,EADDN,iBAuCIO,MAAON,IC/DLP,EAAY,GAClBc,OAAOC,KAAKhB,GACTiB,SAAQ,SAAAC,GAAO,MACV,GAQY,SAACL,GAAsB,IAAjBC,EAAiB,uDAAT,KAClC,OAAKA,EAGED,GAAO,IAAIM,OAAOL,GAAOM,KAAKP,KAF1BA,EAVMQ,CAAcrB,EAAWkB,GAAKL,IAAjB,UAAsBb,EAAWkB,UAAjC,aAAsB,EAAiBJ,SAC/Db,EAAUiB,GAAO,cAIhBjB,GDOP,OAXIc,OAAOC,KAAKP,GAASa,OAAS,EAChCP,OAAOC,KAAKP,GACTQ,SAAQ,SAAAM,GACP,IAAMC,EAAKd,SAASC,cAAc,IAAMY,GACxCC,EAAGC,UAAUC,IAAI,UACjBF,EAAGC,UAAUC,IAAI,mBAGrBC,MAAM,UAGDlB,EA2ETC,SAASC,cAAc,0BACpBiB,iBAAiB,UAAU,SAAAC,GAC1BA,EAAEC,iBALJ/B,Q","file":"registration.bundle.js","sourcesContent":["import { validateRegistrationForm } from './utils/validation';\r\n\r\nfunction getValuesFromRegistrationFormAndValidate() {\r\n  const testObj = validateRegistrationForm(generateFormObjectWithRegex(getValuesFromForm()))\r\n\r\n  if (Object.keys(testObj).length > 0) {\r\n    Object.keys(testObj)\r\n      .forEach(errFieldKey => {\r\n        const el = document.querySelector('#' + errFieldKey)\r\n        el.classList.add('ring-1')\r\n        el.classList.add('ring-red-500')\r\n      })\r\n  } else {\r\n    alert(\"SVE OK\")\r\n  }\r\n\r\n  return testObj\r\n}\r\n\r\nfunction generateFormObjectWithRegex({\r\n  first_name,\r\n  last_name,\r\n  username,\r\n  email,\r\n  password,\r\n  confirm_password\r\n}) {\r\n  const firstNameRegex = /^[A-Z][a-z]{1,30}$/;\r\n  const lastNameRegex = /^[A-Z][a-z]{1,30}$/;\r\n  const passwordRegex = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/ //Minimum eight characters, at least one letter and one number:\r\n  const usernameRegex = /^(?=.{3,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/\r\n  // └─────┬────┘└───┬──┘└─────┬─────┘└─────┬─────┘ └───┬───┘\r\n  // │         │         │            │           no _ or . at the end\r\n  // │         │         │            │\r\n  // │         │         │            allowed characters\r\n  // │         │         │\r\n  // │         │         no __ or _. or ._ or .. inside\r\n  // │         │\r\n  // │         no _ or . at the beginning\r\n  // │\r\n  // username is 8-20 characters long\r\n\r\n  return {\r\n    'first-name': {\r\n      val: first_name,\r\n      regex: firstNameRegex\r\n    },\r\n    'last-name': {\r\n      val: last_name,\r\n      regex: lastNameRegex\r\n    },\r\n    username: {\r\n      val: username,\r\n      regex: usernameRegex\r\n    },\r\n    email: {\r\n      val: email\r\n    },\r\n    password: {\r\n      val: password,\r\n      regex: passwordRegex\r\n    },\r\n    confirm_password: {\r\n      val: confirm_password,\r\n      regex: passwordRegex\r\n    }\r\n  }\r\n}\r\n\r\nfunction getValuesFromForm() {\r\n  const first_name = document.querySelector('#first-name').value\r\n  const last_name = document.querySelector('#last-name').value\r\n  const username = document.querySelector('#username').value\r\n  const email = document.querySelector('#email').value\r\n  const password = document.querySelector('#password').value\r\n  const confirm_password = document.querySelector('#confirm-password').value\r\n\r\n  return {\r\n    first_name,\r\n    last_name,\r\n    username,\r\n    email,\r\n    password,\r\n    confirm_password\r\n  }\r\n}\r\n\r\nfunction validateRegistration() {\r\n  getValuesFromRegistrationFormAndValidate()\r\n}\r\n\r\ndocument.querySelector('form#registration-form')\r\n  .addEventListener('submit', e => {\r\n    e.preventDefault();\r\n\r\n    validateRegistration()\r\n  });\r\n\r\nexport {\r\n  validateRegistration,\r\n  getValuesFromRegistrationFormAndValidate\r\n}","const validateRegistrationForm = (formObject) => {\r\n  const returnObj = {}\r\n  Object.keys(formObject)\r\n    .forEach(key => {\r\n      if (false == validateInput(formObject[key].val, formObject[key]?.regex)) {\r\n        returnObj[key] = 'invalid'\r\n      }\r\n    })\r\n\r\n  return returnObj\r\n}\r\n\r\nconst validateInput = (val, regex = null) => {\r\n  if (!regex) {\r\n    return !!val;\r\n  }\r\n  return val && new RegExp(regex).test(val)\r\n}\r\n\r\nexport {\r\n  validateRegistrationForm\r\n}"],"sourceRoot":""}